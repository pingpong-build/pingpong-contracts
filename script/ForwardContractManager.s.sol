// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Script, console2} from "forge-std/Script.sol";
import {ForwardContractManager} from "../src/forward/ForwardContractManager.sol";

contract ForwardContractManagerScript is Script {
    function setUp() public {}

    function run() public {
        vm.startBroadcast();
        new ForwardContractManager(
            0xff1a0f4744e8582DF1aE09D5611b887B6a12925C,
            0xff1a0f4744e8582DF1aE09D5611b887B6a12925C,
            "https://resource.pingpong.build/static/future/",
            0xDf5615D6FAa536C23c374E7F452254752e079bFB
        );
//        fcm.setSupportedToken(0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9, 0.001 * 1e6, 0x2b89b9dc8fdf9f34709a5b106b472f0f39bb6ca9ce04b0fd7f2e971688e2e53b, 6);
//        fcm.setSupportedToken(0xaf88d065e77c8cC2239327C5EDb3A432268e5831, 0.001 * 1e6, 0xeaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a, 6);
//        fcm.setSupportedToken(0x0000000000000000000000000000000000000000, 0.00001 * 1e18, 0xff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace, 18);
        vm.stopBroadcast();
    }

    function buy() public {
        ForwardContractManager fcm = ForwardContractManager(payable(0x87779632934fF6B78994451c49F9D5f8138AfbdB));

        bytes[] memory priceUpdateData = new bytes[](1);
        priceUpdateData[0] = hex"504e41550100000003b801000000040d002abcb7c8b132cc52b95645bb97c81e21afb270b6442c8fd959eba464b86b0c91097bf52d20ae8d6ca7995686fc7ce11fc3790c01896d53464dfdde4495ed506a0003a50941c9742131ab69bba8e9eac68445016186e9162f0a44150022c89a5edd6422dde1f9a5aeae568bf57a6cc5b0f7618974627de5e90f82f58b0a4cb156e2b00004fa74e4433ebf2aa58826035a65382eb16ca09a934c92bee8c8dec14cb2c6723b5711bc59de01b490640b20e58e466c67ee9c423f9e7586b8a53cdc41cc1c8c6a00067c747a0ecdfb6adf021afb2b642943e0300de8dec3e280de28967732424a079a19065ef481f8821e6ed148c3f0de4fada0aa68a6b6155261768ac8cb2ace05ab0108c604f49a96b01696d05f0bd42d0d9e80864818f814fbd0efa007e6290f27cd8d5a31bda209729599554de1550d7e7a5b37fbf19ea797d17ec487aa598fe5d80d000ae6060a0bc3aff122912620389ac4b7b186bb545af4d8b7a89dc526e5727b0ba42535da5fa281332f7e00f6ff258ec8e803786aed92e61195cfff1f43384b52e6010b3afa9066fb5ce684c83ccef20b9fd4c234bba6fe21da9a4b12bc248fd1d896065be2c34a67e8d55ba3a875ee659a3f9cfc761e0a5e15105e665f6ce7ead9df5e010c5947fb80a3c630ca960188469bdb1c2d30a60d16a09afd05ea927af52465959d7e2731f6f057417e83093e68b5998c2de44b705878fe52e8423d5a8b8510cde0010de0926b7669ab4e3fa0575f24c7d7ddc0bcb0aff221504aa08613df59dbf7e3aa3461b67c49ca46865488e60f8e07a2d80d844d4adf147c15c64289bb1e8adf7f000e8063af918af026d1655200a216799eebf1a8bc7fce5125bd4780da03760a94e4133bfe94c1b32b0042aaf3e414e02c76d1f0604795359cf3f50a6b246ddb92dc010fc6cd811026e539824aeda1e9b2988edd33356df742f60c40c5fb8f1f4032118e68bb581f370cf1eb59b54efab16627cd300ba0d9892ee4c9cc3d7669b464b5740011a5e9d608a1dc9660936ff852dd84f6c0fdb83bee79c3bbda657df001c7c3688d0bd715d7212b8fb61685fb4768aaa43c4ae9bf3d8c721b0074969e7231784e4d001244da314f5f848f0761392433c3e60ac4a69cc2dd6361e1cde7ded8729445dffd53b21d849f7340989a54b51a4f7bc2768495c8fc78453d52327a3fdc46877dce016729ea5d00000000001ae101faedac5851e32b9b23b5f9411a8c2bac4aae3ed4dd7b811dd1a72ea4aa7100000000056fd77b014155575600000000000a7ca1d100002710a26051cb12f8a7c3e50720f4672256200d00d4b402005500ff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace00000038b8efec9f0000000009b4629ffffffff8000000006729ea5d000000006729ea5d00000038c4786890000000000a89d6860acfd14a7d60b7f060ee5da34841f96d6fde1510e16ea9f7680eb32c53439171d9dd6021e9c1cfdbc1bad8a074875fc774d6dd0e0690bd3ad1be404fbbc3b6f42a0cf47b4eaac4038cc828f927815a07cff6de7a115aeb0564f86fd1886fad5a15cfa51fc78bd038d00d2f92e306f401034f8b802db3e53daf0b42c9b45aa0deef0bb3de051ca4f5b33aa0d1f5199aed2a338f88b84e91d2a952e474d4dc8d556e211e588ef6a5980d7bb7e5f1f3ce8b6029c728b8f77522df4c308f6963aad791654451d71dc65667005500f6b551a947e7990089e2d5149b1e44b369fcc6ad3627cb822362a2b19d24ad4a0000000000447094000000000000339efffffff8000000006729ea5d000000006729ea5d000000000044486600000000000030720ad3c050d2d12d08a72c2b4f4ca4e8740ea6c50f86f69c68c91640e4838e591531cbe26148a36ff86f540ba6fbc705ae3a3eb7301b029b0b6c02bd634df6cced6a4cedcd52ebd22e220806ed7cf0becabc6865212e6f91873058d27169302abb25a04c7d538bd038d00d2f92e306f401034f8b802db3e53daf0b42c9b45aa0deef0bb3de051ca4f5b33aa0d1f5199aed2a338f88b84e91d2a952e474d4dc8d556e211e588ef6a5980d7bb7e5f1f3ce8b6029c728b8f77522df4c308f6963aad791654451d71dc65667";

        fcm.buy{value: 0.0001 ether}(
            0.0001 ether,
        0x0000000000000000000000000000000000000000,
        priceUpdateData,
            "");
    }
}
